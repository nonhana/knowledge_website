"use strict";(self["webpackChunkxueyigou"]=self["webpackChunkxueyigou"]||[]).push([[774],{48774:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index"},[e("el-row",{attrs:{type:"flex",justify:"center"}},[e("loginWindowVue")],1)],1)},o=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"loginWindow-wrap",attrs:{name:"loginWindow"}},[t.status?e("div",[e("div",{staticClass:"title"},[e("font",[t._v("登录")])],1),e("div",{staticClass:"form"},[e("div",{staticStyle:{margin:"40px 0 0 0"}},[e("div",[e("font",[t._v("账号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.account,expression:"loginForm.account"}],attrs:{type:"text",placeholder:"请输入您的账号"},domProps:{value:t.loginForm.account},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"account",e.target.value)}}})],1),e("div",{staticStyle:{margin:"20px 0 0 0"}},[e("font",[t._v("密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.loginForm.password,expression:"loginForm.password"}],attrs:{type:"password",placeholder:"请输入您的密码"},domProps:{value:t.loginForm.password},on:{input:function(e){e.target.composing||t.$set(t.loginForm,"password",e.target.value)}}})],1)])]),e("div",{staticClass:"register",on:{click:function(e){t.status=!t.status}}},[e("font",[t._v("还未注册？点击此处注册！")])],1),e("div",{staticClass:"submit",on:{click:function(e){return t.login()}}},[e("div",[e("font",[t._v("登录")])],1)])]):t._e(),t.status?t._e():e("div",[e("div",{staticClass:"title"},[e("font",[t._v("注册")])],1),e("div",{staticClass:"form"},[e("div",{staticStyle:{margin:"40px 0 0 0"}},[e("div",[e("font",[t._v("用户名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.user_name,expression:"registerForm.user_name"}],attrs:{type:"text",placeholder:"请填写您的用户名"},domProps:{value:t.registerForm.user_name},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"user_name",e.target.value)}}})],1),e("div",{staticStyle:{margin:"20px 0 0 0"}},[e("font",[t._v("账号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.user_account,expression:"registerForm.user_account"}],attrs:{type:"text",placeholder:"请填写您的账号"},domProps:{value:t.registerForm.user_account},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"user_account",e.target.value)}}})],1),e("div",{staticStyle:{margin:"20px 0 0 0"}},[e("font",[t._v("密码")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.registerForm.user_password,expression:"registerForm.user_password"}],attrs:{type:"password",placeholder:"请输入您的密码"},domProps:{value:t.registerForm.user_password},on:{input:function(e){e.target.composing||t.$set(t.registerForm,"user_password",e.target.value)}}})],1)])]),e("div",{staticClass:"register",on:{click:function(e){t.status=!t.status}}},[e("font",[t._v("返回")])],1),e("div",{staticClass:"submit",on:{click:function(e){return t.register()}}},[e("div",[e("font",[t._v("注册")])],1)])])])},a=[],n=(s(57658),s(14052)),u={name:"loginWindow",data(){return{loginForm:{account:"",password:""},registerForm:{user_id:"",user_name:"",user_head:"https://dummyimage.com/400X400",user_background:"https://dummyimage.com/400X400",user_major:"未知",user_college:"未知",user_sign:"请多多指教~！",user_introduce:"该用户暂未设置个人简介哦~",user_account:"",user_password:""},user_list:[],status:!0}},methods:{login(){if(console.log(this.user_list[0]),this.loginForm.account&&this.loginForm.password){const e={user_account:this.loginForm.account,user_password:this.loginForm.password};let s=0;if(0!=this.user_list.length)for(var t=0;t<this.user_list.length;t++)this.user_list[t].user_account==e.user_account&&(s=1,this.user_list[t].user_password==e.user_password?(localStorage.setItem("user_info",JSON.stringify(this.user_list[t])),console.log("信息！",this.user_list[t]),(0,n.Zp)().then((e=>{console.log(e.data[0]),e.data&&e.data.forEach((s=>{s.id==this.user_list[t].id&&(console.log(e.data),localStorage.setItem("keywords_list",JSON.stringify(e.data.slice(1))))}))})),this.$router.push({path:"/home"}),this.$notify({title:`${this.loginForm.account}`,message:"欢迎回来！",type:"success"})):this.$notify({title:"密码输入错误，请重新输入！",type:"error"}));else s=1,this.$notify({title:"检测到您输入的账号还未注册，请先进行注册！",type:"error"});0==s&&this.$notify({title:"检测到您输入的账号还未注册，请先进行注册！",type:"error"})}else this.$notify({title:"账号/密码未填好！",type:"error"})},register(){this.registerForm.user_name&&this.registerForm.user_account&&this.registerForm.user_password?(0,n.a$)(this.registerForm).then((t=>{let e=0;this.user_list.forEach((t=>{t.user_account==this.registerForm.user_account&&(e=1,this.$notify({title:"该账户已经被他人注册啦！",type:"error"}))})),0==e?(console.log(t.data),this.$notify({title:"注册成功！",message:"快去进行登录吧！",type:"success"}),this.status=!this.status,this.loginForm={account:"",password:""},this.registerForm={user_name:"",user_head:"https://dummyimage.com/400X400",user_background:"https://dummyimage.com/400X400",user_major:"未知",user_college:"未知",user_sign:"请多多指教~！",user_account:"",user_password:""}):console.log(e)}),(t=>{this.$notify({title:"注册失败！",message:`${t.data}`,type:"error"})})):this.$notify({title:"注册必填项未填好！",type:"error"})}},mounted(){(0,n.P5)().then((t=>{console.log(t.data),t.data&&t.data.forEach((t=>{this.user_list.push(t)}))})),console.log("132131233132",this.user_list)}},l=u,c=s(1001),m=(0,c.Z)(l,i,a,!1,null,"e318bac8",null),d=m.exports,g={name:"index-post",components:{loginWindowVue:d}},p=g,_=(0,c.Z)(p,r,o,!1,null,"61b256c6",null),h=_.exports}}]);
//# sourceMappingURL=774.b2ebeace.js.map